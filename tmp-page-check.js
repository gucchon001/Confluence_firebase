const path = require("path");\nconst lancedb = require("@lancedb/lancedb");\n\nfunction normalize(row) {\n  return Object.fromEntries(Object.entries(row).map(([key, value]) => {\n    if (typeof value === "bigint") return [key, value.toString()];\n    if (Array.isArray(value)) {\n      return [key, value.map((v) => (typeof v === "bigint" ? v.toString() : v))];\n    }\n    return [key, value];\n  }));\n}\n\nasync function main() {\n  const base = path.resolve("tmp-production-lancedb", "lancedb");\n  const db = await lancedb.connect(base);\n  const table = await db.openTable("confluence");\n  const rows = await table.query().where("page_id = 814415873").toArray();\n  const normalized = rows.map(normalize);\n  console.log(JSON.stringify(normalized, null, 2));\n}\n\nmain().catch((err) => {\n  console.error(err);\n  process.exit(1);\n});\n
