# LanceDBとFirestoreの統合ガイド [アーカイブ]

> **注意**: このドキュメントは古い設計に基づいており、現在は使用されていません。現在の実装ではLanceDBのみを使用し、Firestoreとの統合は行っていません。このドキュメントは参考のために保存されています。

## 1. 概要

このドキュメントでは、LanceDBとFirestoreを統合して、効率的なベクトル検索とメタデータ管理を実現する方法について説明します。この統合アプローチでは、LanceDBをベクトル検索エンジンとして使用し、Firestoreを構造化メタデータのストレージとして使用します。

> **重要**: 現在の実装では、LanceDBのみを使用し、すべてのメタデータもLanceDBに保存しています。このドキュメントは参考のためにアーカイブされています。

## 2. 現在のアーキテクチャ

現在の実装では、すべてのデータ（ベクトルとメタデータ）をLanceDBに保存しています。

```
+-------------+     +-------------+     +--------------+
|             |     |             |     |              |
| クライアント  +---->  Next.js API  +---->  LanceDB     |
|             |     |             |     | (ベクトル検索  |
+-------------+     +------+------+     | + メタデータ) |
                                        |              |
                                        +--------------+
```

## 3. データフロー

1. クライアントから検索クエリを受信
2. クエリをベクトルに変換
3. LanceDBでベクトル検索を実行
4. 検索結果（ベクトルとメタデータ）をクライアントに返す

## 4. 参考リソース

- [LanceDB公式ドキュメント](https://lancedb.github.io/lancedb/)
- [Firebase Admin SDK公式ドキュメント](https://firebase.google.com/docs/admin/setup)
- [Next.js API Routes](https://nextjs.org/docs/api-routes/introduction)