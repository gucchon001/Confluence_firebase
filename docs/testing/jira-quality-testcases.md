# Jira 品質テストケース

**作成日**: 2025-11-09  
**作成者**: GPT-5 Codex  
**目的**: Jira 連携後の回答品質を担保するための定性テストケースを定義する。

---

## テスト観点

1. **課題詳細問い合わせ**: 個別の Jira 課題番号を指定された際に、サマリー／ステータス／担当者等を含む要約を返せるか。
2. **関連課題検索**: 特定キーワード（例: 「求人掲載順位」）で関連タスク一覧を提示できるか。
3. **リンク整合性**: 応答内で Jira チケットへの直接リンクを提示できるか。

---

## ケース 1: 課題詳細問い合わせ

- **入力例**: `CTJ-4714 の詳細を教えて`
- **期待出力項目**:
  - サマリー（課題の概要）
  - 現在のステータスと担当者
  - 発生状況や対応内容の抜粋
  - 最新コメントの要旨（例: 修正完了の報告）
  - Jira チケットへのリンク（`https://giginc.atlassian.net/browse/CTJ-4714`）
- **レファレンス**:
  - [CTJ-4714](https://giginc.atlassian.net/browse/CTJ-4714) – admin/client両方の教室コピーで画像が消える不具合。2025-08-07に完了。

---

## ケース 2: キーワードで関連課題検索

- **入力例**: `求人掲載順位のロジックについて改修している課題の番号を教えて`
- **期待出力項目**:
  - 関連チケットの一覧（例）
    - [CTJ-5046](https://giginc.atlassian.net/browse/CTJ-5046)
    - [CTJ-5128](https://giginc.atlassian.net/browse/CTJ-5128)
    - [CTJ-5129](https://giginc.atlassian.net/browse/CTJ-5129)
    - [CTJ-4994](https://giginc.atlassian.net/browse/CTJ-4994)
    - [CTJ-5374](https://giginc.atlassian.net/browse/CTJ-5374)
    - 必要に応じてステータスや担当者も併記
  - キーワードに対するヒット件数や補足コメント
- **テスト手順**:
  1. `/api/search?source=jira` に対し `query=求人掲載順位` でリクエスト
  2. レスポンスの `results` に上記チケットが含まれているか確認
  3. UI 表示ではリンクおよびステータスが確認できること

---

## 判定基準

- 想定された項目が揃っているか（サマリー・ステータス・担当者・リンクなど）
- 実際の Jira チケット情報と齟齬がないか
- リンクが有効で直接チケットにアクセスできるか
- 複数件返却時は質問意図に沿った優先順位になっているか

---

## 備考

- 自動化する場合、`scripts/inspect-jira-issues.ts` や `scripts/search-jira.ts` を利用して期待値を更新する。
- フィールド定義は `docs/implementation/jira-field-mapping.md` を参照し、差分があれば随時追記する。
