# Jira ダッシュボード指標整理

**作成日**: 2025-11-09  
**更新**: 2025-11-09（集計要件反映）  
**作成者**: GPT-5 Codex  
**目的**: Jira 課題データから取得できる主要指標を整理し、ダッシュボード/UI 設計で参照する基準を定義する。

---

## 1. 対象ユーザーと目的

- **対象**: 開発メンバー（PdM/EM/開発リード含む）
- **目的**: 何が残り、何が完了したかをソース別・期間別に把握し、リリースや対応優先度を調整する
- **確認したい視点**:
  - 現在の残タスク量（ステータス別件数）
  - 完了件数の推移（週・月）
  - 担当者別の負荷状況
  - 過去実績（任意期間）と比較したトレンド

---

## 2. 集計範囲と粒度

- **期間切替**: `全件 / 直近1ヶ月 / 直近四半期` を UI から選択可能  
  - 将来的に任意期間（From/To）の指定を検討
- **粒度切替**: `週` / `月` をトグルで切替  
  - 週: Sprint/短期の進捗確認  
  - 月: 中長期の傾向把握

---

## 3. 集計カテゴリ（必須指標）

| カテゴリ | 主なフィールド | 説明 | 可視化例 |
|----------|----------------|------|----------|
| 進捗ステータス | `status.name`, `status.statusCategory.name` | To Do / In Progress / Done 件数と推移 | 積み上げバー、トレンド線 |
| 完了件数推移 | `customfield_10282`(完了日), `updated` | 週・月ごとの完了件数 | 折れ線グラフ |
| 担当者別 | `assignee.displayName`, `customfield_10277` | 担当者ごとの作業量、未割当検知 | バーチャート、ドーナツ |
| 優先度分布 | `priority.name` | Highest / High / Medium / Low | 円グラフ、分布表 |
| 影響業務（オプション） | `customfield_10291` | 業務カテゴリ別件数 | マトリクス or ヒートマップ |
| 業務影響度（オプション） | `customfield_10292` | 大/中/小/リリースの壁 | スタックバー |
| 検証ステータス（後続検討） | `customfield_10279` / `10280` | dev検証／本番検証の完了状況 | 進捗トラッカー |

> 影響業務・検証状況は Phase 2 以降で詳細設計予定。

---

## 4. UI コンポーネント案

1. **ヘッダー概要カード**  
   - 期間セレクタ + 粒度トグル  
   - Total課題数 / 完了数 / 残件数

2. **ステータス推移グラフ**  
   - To Do / In Progress / Done を週・月単位で積み上げ表示

3. **担当者別ワークロード**  
   - 担当者・業務担当（customfield_10277）単位で件数

4. **完了件数トレンド**  
   - 完了日ベースの折れ線グラフ

5. **優先度分布＋影響業務マトリクス（オプション）**  
   - 緊急度×業務カテゴリで件数を視覚化

---

## 5. データ処理方針

- Firestore `jiraIssues` をソースに、BigQuery または集計関数で週/月別統計を生成（必要に応じバッチ）
- Option 型は `value` を採用し、未設定は `(未設定)` と表示
- 日付フィールドは UTC→JST 変換後に `YYYY-MM-DD` へ正規化
- 未完了課題の完了日/検証日は `null` のまま保持し、フィルタで弾く
- 添付あり課題・コメント数などの補助指標は後続タスクで検討

---

## 6. 次のアクション

1. Firestore/LanceDB 同期完了後、ダッシュボード用集計クエリを設計（週/月軸）  
2. UI ワイヤーフレーム（ステータス推移・担当者別など）を `docs/proposals/` に作成  
3. KPI や SLA（例: Done率、リードタイム）を運用チームと調整  
4. 影響業務/検証ステータスの表示仕様を Phase 2 で詳細化
