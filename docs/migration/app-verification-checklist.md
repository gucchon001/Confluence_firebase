# アプリケーション動作確認チェックリスト

## マイグレーション後の動作確認項目

### ✅ 確認完了項目
- [x] データベースマイグレーション完了（pageId → page_id）
- [x] スカラーインデックス作成成功
- [x] パフォーマンステスト成功（平均5.40ms）

### 🔍 動作確認が必要な項目

#### 1. サーバー起動確認
- [ ] 開発サーバーが正常に起動している
- [ ] エラーログがない
- [ ] http://localhost:9004 にアクセス可能

#### 2. 検索機能の動作確認
- [ ] ベクトル検索が正常に動作する
- [ ] 検索結果が正しく表示される
- [ ] パフォーマンスが向上している（< 100ms）

#### 3. getAllChunksByPageIdの動作確認
- [ ] page_idを使用したクエリが正常に動作する
- [ ] チャンク取得が高速（< 100ms）
- [ ] エラーが発生していない

#### 4. APIレスポンスの確認
- [ ] APIレスポンスに`pageId`フィールドが含まれている（変換レイヤーが機能）
- [ ] フロントエンドが正常に動作する

#### 5. エラーログの確認
- [ ] コンソールにエラーがない
- [ ] サーバーログにエラーがない

## 確認手順

### 1. ブラウザでアクセス
```
http://localhost:9004
```

### 2. 検索機能をテスト
- 適当な検索クエリを入力
- 検索結果が表示されることを確認
- レスポンス時間を確認

### 3. 開発者ツールでネットワークを確認
- APIリクエストのレスポンス時間
- エラーレスポンスがないこと

### 4. サーバーログを確認
- エラーメッセージがないこと
- パフォーマンスログが正常であること

## 期待される結果

### パフォーマンス
- ベクトル検索: < 1秒
- getAllChunksByPageId: < 100ms
- 総レスポンス時間: 大幅に改善

### 機能
- すべての機能が正常に動作
- エラーが発生しない
- データが正しく表示される

## 問題が発生した場合

### 1. エラーが発生した場合
- エラーメッセージを確認
- バックアップから復元を検討
- ログを確認して原因を特定

### 2. パフォーマンスが改善されない場合
- インデックスが正しく作成されているか確認
- データベースの状態を確認
- キャッシュがクリアされているか確認

## バックアップ情報

- 手動バックアップ: `.lancedb.backup-manual-20251102-212434`
- スクリプト自動バックアップ: `.lancedb.backup-1762086306211`

問題が発生した場合は、これらのバックアップから復元できます。

