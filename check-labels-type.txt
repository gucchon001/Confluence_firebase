🔍 ラベルの型を確認中...

📊 LanceDBに接続中...
📊 データを取得中...
- 総チャンク数: 2

🔍 ラベルの型を詳細に確認中...

📄 チャンク 1:
- ID: 666927149-1
- タイトル: クライアント企業契約・登録・契約解除フロー
- ラベル: []
- ラベル型: object
- Array.isArray: false
- ラベル長: undefined
- ラベルオブジェクトの詳細:
  - constructor: Vector
  - keys: isValid, get, set, indexOf, _offsets, data, type, stride, numChildren, length
  - values: (index) => (0, chunk_js_1.isChunkedValid)(unchunkedData, index), (index) => get(unchunkedData, index), (index, value) => set(unchunkedData, index, value), (index) => indexOf(unchunkedData, index), 0,0, [object Object], Utf8, 1, 0, 0
  - Array.from結果: []
  - スプレッド演算子結果: []

📄 チャンク 2:
- ID: 666927149-0
- タイトル: クライアント企業契約・登録・契約解除フロー
- ラベル: []
- ラベル型: object
- Array.isArray: false
- ラベル長: undefined
- ラベルオブジェクトの詳細:
  - constructor: Vector
  - keys: isValid, get, set, indexOf, _offsets, data, type, stride, numChildren, length
  - values: (index) => (0, chunk_js_1.isChunkedValid)(unchunkedData, index), (index) => get(unchunkedData, index), (index, value) => set(unchunkedData, index, value), (index) => indexOf(unchunkedData, index), 0,0, [object Object], Utf8, 1, 0, 0
  - Array.from結果: []
  - スプレッド演算子結果: []

📊 全チャンクのラベル型統計:
- undefined: 0チャンク
- null: 0チャンク
- string: 0チャンク
- object: 2チャンク
- array: 0チャンク
- other: 0チャンク

🧪 ラベルが正しく配列として動作するかテスト中...
チャンク 1: 配列として動作しない ❌ - TypeError: chunk.labels.join is not a function
チャンク 2: 配列として動作しない ❌ - TypeError: chunk.labels.join is not a function

📊 配列互換性テスト結果:
- 配列として動作: 0チャンク
- 配列として動作しない: 2チャンク

💡 推奨アクション:
⚠️ 一部のラベルがオブジェクト型です
   - データ保存時に明示的に配列に変換する必要があります

✅ ラベル型確認完了
