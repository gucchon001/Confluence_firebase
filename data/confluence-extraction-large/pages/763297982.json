{
  "id": "763297982",
  "title": "268-3_【FIX】Amazonギフト券管理-発行取消機能",
  "content": "1. 目次 2. 概要 本機能は 【FIX】Amazonギフト券情報 の発行済みのデータを、する機能です。 3. 要求事項 3.1. 権限 260_【作成中】Amazonギフト券管理機能 と同様 3.2. 帳票 260_【作成中】Amazonギフト券管理機能 と同様 3.3. メールテンプレート 本機能で扱うメールテンプレートページへのリンクです ※親ページの定義に包含される場合は、親ページへのリンクを記載します 3.4. ワークフロー 260_【作成中】Amazonギフト券管理機能 と同様 4. 要件定義 全体管理画面にログインすることができる全体管理者のうち、システム管理者のみが、 【FIX】Amazonギフト券情報 の発行取消することができる。 「発行取消」ボタンを押下すると、Amazonギフト券APIへ発行取消処理を行う。発行取消処理が 成功 している場合は、データをデータベースに保存し、「 261_【FIX】Amazonギフト券管理-一覧閲覧機能 」ページへ遷移して、発行取消処理が完了したことが利用者にわかるメッセージを表示する。 発行取消処理が失敗している場合は、同ページに発行取消処理が失敗している旨がわかるようにエラーメッセージを表示する。 新規登録で成功または失敗した場合、以下の情報が入ったログを出力する。 日時、新規登録を実行した全体管理者のユーザー番号、アクセス元IPアドレス、ユーザーエージェント、アクション（成功or失敗） 4.1. ユーザーインターフェース（画面） https://www.figma.com/file/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?type=design&amp;node-id=1468-25928&amp;t=nYKYmHEU2Gz2Sj5N-4 4.2. 入力 変数名、説明、バリデーションは、 【FIX】Amazonギフト券情報 の記載を前提とし、本ページに固有の特記事項のみ記載する。 260_【作成中】Amazonギフト券管理機能 に記載の共通入力・取得項目は項目自体を省略する。 項目名 変数名 入力元 説明 制限とエラーメッセージ 1 Amazonギフト券番号 &nbsp; 入力フォーム 発行する対象のAmazonギフト券番号を一つのみ入力することができる。 内部ではAmazonギフト券番号をもとにAmazonAPIへ問い合わせを行う。 入力がない、または、要素が自然数ではない、または指定番号のAmazonギフト券番号がデータベースに存在しない場合 エラーメッセージは出力せず、正しい番号に対してのみ処理を実行する。 4.3. 出力 説明は 【FIX】Amazonギフト券情報 の記載を前提とし、本ページに固有の特記事項のみ記載する。 260_【作成中】Amazonギフト券管理機能 に記載の共通出力項目は項目自体を省略する。 出力項目 出力先 説明 1 ステータス データベース 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 2 ギフト券ID データベース 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 3 ギフト券番号 データベース 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 4 有効期限 データベース 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 5 ギフト券発行日時 データベース 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 6 更新日時 データベース 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 4.4. 処理 本機能を実行する際にシステム内で行う処理です。複数処理がある場合は配下の階層に分けて記載します。 4.4.1. XXX処理 処理の詳細説明です。 4.4.2. YYY処理 処理の詳細説明です。 4.5. エラー処理 処理を実施した際に行うエラー処理です 4.6. ログ 処理を実施した際にシステム内で出力するログです 5. スコープ外・制限事項 本機能でスコープ外、または制限事項とする内容です",
  "parentId": "704446720",
  "parentTitle": "260_【作成中】Amazonギフト券管理機能",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/763297982/268-3_+FIX+Amazon+-",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2024-04-17T07:15:40.781Z",
  "author": "feng_xiaomeng (Unlicensed)",
  "excerpt": "1. 目次 2. 概要 本機能は 【FIX】Amazonギフト券情報 の発行済みのデータを、する機能です。 3. 要求事項 3.1. 権限 260_【作成中】Amazonギフト券管理機能 と同様 3.2. 帳票 260_【作成中】Amazonギフト券管理機能 と同様 3.3. メールテンプレート 本機能で扱うメールテンプレートページへのリンクです ※親ページの定義に包含される場合は、親ページへのリ..."
}