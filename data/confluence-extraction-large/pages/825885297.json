{
  "id": "825885297",
  "title": "179_【FIX】求人CSVダウンロード機能",
  "content": "1. 目次 2. 概要 本機能は https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/709263407 にて絞り込まれた教室において、下記の求人情報（ 【FIX】求人：基本情報 【FIX】求人：勤務条件・指導科目 【FIX】求人：応募条件・研修情報 【FIX】求人：応募情報等 【FIX】求人：PR情報 ）をCSVファイルとしてダウンロードする機能です。 最低賃金を下回っている求人情報 3. 要求事項 全体管理画面にログインすることができるシステム管理者、塾講師ステーション管理者、ゲスト管理者が利用することができる。 最大でダウンロードできる行数は100,000件とする。 作成するCSVファイルは UTF-8 Shift-JIS 形式とする。 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/709263407 で絞り込まれた全ての教室に紐づく求人情報について 「最低賃金エラーCSVダウンロード」ボタンを押すと、最低賃金の条件を満たしていない求人の求人情報を、本ページ出力欄記載のフォーマットの通りにCSVファイルをダウンロードする。 満たすべき最低賃金の条件は、 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704151704 の通りとする。 CSVフォーマットは1行目はカラム名を出力し、2行目から値を出力する。 ファイル名は yyyymmdd_minimum-salary-error_job.csv とする。 ダウンロードに成功または失敗した場合、それを通知するポップアップを表示する。それぞれ「CSVファイルのダウンロードに成功しました。」、「CSVファイルのダウンロードに失敗しました。時間を置いて再度ダウンロードを行なってください。」とする。 ダウンロードに成功または失敗した場合、以下を含むログを出力する。 日時、ユーザー番号、アクセス元IPアドレス、ユーザーエージェント、アクション（成功or失敗） 4. 要件定義 4.1. ユーザーインターフェース（画面） https://www.figma.com/design/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?node-id=3960-35025&amp;node-type=FRAME&amp;t=h0aehVRuJLy9ZzSa-0 4.2 入力 4.3 出力 帳票 項目 出力カラム名 出力値例 備考 1 -- -- 開始列 DUMMY 固定で文字列「DUMMY」を出力 2 【FIX】企業：基本情報 企業コード 企業コード X0000039 3 【FIX】教室：基本情報／所在地 教室番号 教室ID 4010 4 教室名 教室名 エディック 安室校 5 都道府県 都道府県名 兵庫県 6 -- -- 最低賃金 1001 最低賃金マスタを参照し、該当する都道府県の最低賃金の値を出力 7 【FIX】求人：基本情報 求人番号 求人ID 275 8 -- -- エラー箇所 両方 ①最低賃金（授業時間換算） ②最低賃金（研修給与時間換算） が最低賃金より小さいかの判定結果を出力する。出力は下記3パターン 両方：①も②も小さい 給与：①のみ小さい 研修給与：②のみ小さい 9 【FIX】教室：基本情報／所在地 公開フラグ 教室:公開状態 公開 10 掲載フラグ 教室:掲載状態 非掲載 11 【FIX】教室：基本情報／所在地 および紐づく教室帳票の中で最新の更新日時をもつ帳票 更新日時 教室更新日時 2012-03-23 00:00:00 12 【FIX】求人：基本情報 および紐づく求人帳票の中で最新の更新日時をもつ帳票 更新日時 求人更新日時 2012-03-23 00:00:00 13 【FIX】教室：基本情報／所在地 削除日時 教室:削除日時 2012-03-23 00:00:00 14 【FIX】求人：基本情報 削除日時 求人:削除日時 2012-03-23 00:00:00 15 【FIX】求人：基本情報 掲載フラグ 求人:掲載状態 非掲載 16 -- -- 掲載切替用URL https://www.juku.st/admin/classrooms/4010/jobs 全体管理画面における、該当教室の求人一覧（掲載フラグを切り替え可能なページ）のURLを出力する。 17 【FIX】求人：基本情報 給与形態 給与形態 コマ 18 給与形態：授業、コマ 授業時間 80 19 給与：最低時給 給与 1200 20 給与：補足説明 給与（補足説明） あなたの頑張り次第で昇給します！ 21 -- -- 最低賃金（授業時間換算） 1335 「給与：最低時給」を時給換算した値を出力する。 換算方法は https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704151704 の通りとする。 換算の際に、小数点以下は切り捨てとする。 ただし、「給与形態」が「時給」の場合は、「給与：最低時給」の値をそのまま出力する。 22 -- -- 給与変更用URL https://www.juku.st/admin/classrooms/4010/jobs/275/edit-basic-informations 全体管理画面における、該当求人の編集ページ（給与を編集可能なページ）のURLを出力する。 23 【FIX】求人：応募条件・研修情報 研修給与単位 研修給与単位 時給 24 研修給与単位：授業、コマ 研修給与時間 80 25 研修給与金額 研修給与金額 820 26 研修給与補足：補足説明 研修給与（補足説明） 27 -- -- 最低賃金（研修給与時間換算） 1001 「研修給与金額」を時給換算した値を出力する。 換算方法は https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/828834149 の通りとする。 換算の際に、小数点以下は切り捨てとする。 ただし、「研修給与単位」が「時給」の場合は、「研修給与金額」の値をそのまま出力する。 28 -- -- 研修給与変更用URL https://www.juku.st/admin/classrooms/4010/jobs/275/edit-application-training-conditions 全体管理画面における、該当求人の編集ページ（研修給与を編集可能なページ）のURLを出力する。 29 -- -- 最終列 DUMMY 固定で文字列「DUMMY」を出力 4.6. エラー処理 4.7. ログ ダウンロード処理を実行した場合に下記フォーマットでログを出力する。 成功した場合 User {全体管理者のユーザー番号} downloaded job csv file. {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 失敗した場合 User {全体管理者のユーザー番号} failed to download job csv file. {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント}",
  "parentId": "704053484",
  "parentTitle": "170_【要求FIX】求人管理機能",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/825885297/179_+FIX+CSV",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2024-09-25T06:03:49.183Z",
  "author": "ejiri_yusuke",
  "excerpt": "1. 目次 2. 概要 本機能は https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/709263407 にて絞り込まれた教室において、下記の求人情報（ 【FIX】求人：基本情報 【FIX】求人：勤務条件・指導科目 【FIX】求人：応募条件・研修情報 【FIX】求人：応募情報等 【FIX】求人：PR情報 ）をCSVファイルとしてダウン..."
}