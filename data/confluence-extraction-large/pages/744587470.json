{
  "id": "744587470",
  "title": "802_【FIX】アクセスログ集計バッチ",
  "content": "1. 概要 本バッチ処理は以下の処理を行う。 アクセス数の集計 応募数の集計 本バッチは毎日2:00(JST)に自動実行するように設置する。 2. 要求事項 コマンドラインで実行できるものとする。 バッチ処理を開始したらバッチ処理を開始した旨のメッセージと現在日時を含むログを出力する。 前日の 求人詳細画面への アクセスログ （Cloud Watch Logsから取込む） を対象に、以下1~ 2 の個別の処理を行う。 1の処理 教室、企業の単位でバッチ起動時からみて前日のアクセス数を集計します。アクセス数は、端末別（PC、 SP ）に集計してデータベースに保存する。 対象帳票 は 【作成中】教室アクセス・応募数集計データ 【作成中】企業アクセス・応募数集計データ とする。 2の処理 教室、企業の単位でバッチ起動時からみて前日の応募数を集計します。 応募数 は、端末別（PC、SP）に集計してデータベースに保存する 対象帳票は 【作成中】教室アクセス・応募数集計データ 【作成中】企業アクセス・応募数集計データ とする。 バッチ処理終了時には、バッチ処理が終了した旨のメッセージと終了日時を含んだログを出力する。 必達終了時間は3:00(JST)とする。処理開始日時から処理終了日時まで1時間以内に完了するようにパフォーマンスを確保する。 上記仕様で問題なく処理を実行できる目安となる件数は50,000件である。1時間以内に最大50,000件の処理を行えるパフォーマンスを確保する。 2.1. メールテンプレート - 2.2. ワークフロー - 3. 要件定義 3.1. 入力 要求にて定義している内容に従う。 3.2. 出力 要求にて定義している内容に従う。 3.3. 処理 - 3.4. エラー処理 下記通知先にエラーログ通知を行う。 【FIX】バッチエラー時通知先 3.5. ログ バッチ略称はaggregate_access_log (AAL) とする。 バッジ処理全体が開始した時と終了した時に以下のログを出力する。 開始時 [802_AAL] Started at {処理開始日時}. 終了時 [802_AAL] Finished at {処理終了日時}. 1の処理 成功時 [802_AAL] Succeeded to aggregate access data. time={現在時刻}. 失敗時 [802_AAL] Failed to aggregate access data. time={現在時刻}. 教室アクセス・応募数集計データの更新 成功時 [802_AAL] Succeeded to aggregate access data. target_date={対象日} classroom_number={教室番号} time={現在時刻}. 失敗時 [802_AAL] Failed to aggregate access data. target_date={対象日} classroom_number={教室番号} time={現在時刻}. 企業アクセス・応募数集計データの更新 成功時 [802_AAL] Succeeded to aggregate access data. target_date={対象日} company_number={企業番号} time={現在時刻}. 失敗時 [802_AAL] Failed to aggregate access data. target_date={対象日} company_number={企業番号} time={現在時刻}. 2の処理 成功時 [802_AAL] Succeeded to aggregate application data. applications={集計対象の応募番号} time={現在時刻}. 失敗時 [802_AAL] Failed to aggregate application data. time={現在時刻}. 教室アクセス・応募数集計データの更新 成功時 [802_AAL] Succeeded to aggregate application data. target_date={対象日} classroom_number={教室番号} application_number={集計対象の応募番号} time={現在時刻}. 失敗時 [802_AAL] Failed to aggregate application data. target_date={対象日} classroom_number={教室番号} application_number={集計対象の応募番号} time={現在時刻}. 企業アクセス・応募数集計データの更新 成功時 [802_AAL] Succeeded to aggregate application data. target_date={対象日} company_number={企業番号} application_number={集計対象の応募番号} time={現在時刻}. 失敗時 [802_AAL] Failed to aggregate application data. target_date={対象日} company_number={企業番号} application_number={集計対象の応募番号} time={現在時刻}. 4. スコープ外・制限事項 -",
  "parentId": "744718575",
  "parentTitle": "800_■システム内部処理関連バッチ",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/744587470/802_+FIX",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2025-07-03T00:07:06.021Z",
  "author": "kotake_jin",
  "excerpt": "1. 概要 本バッチ処理は以下の処理を行う。 アクセス数の集計 応募数の集計 本バッチは毎日2:00(JST)に自動実行するように設置する。 2. 要求事項 コマンドラインで実行できるものとする。 バッチ処理を開始したらバッチ処理を開始した旨のメッセージと現在日時を含むログを出力する。 前日の 求人詳細画面への アクセスログ （Cloud Watch Logsから取込む） を対象に、以下1~ 2 ..."
}