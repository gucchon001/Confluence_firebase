{
  "id": "744947716",
  "title": "811_【FIX】feedforce連携用CSV生成バッチ",
  "content": "1. 概要 feedforceと連携する教室グループのcsvファイルを作成する機能。 本バッチ処理は毎日8時15分 (JST)に自動で処理を行う。 2. 要求事項 コマンドラインで実行する。 バッチ処理を開始したらバッチ処理を開始した旨のメッセージと現在日時を含むログを出力する。 以下の条件を満たす求人を対象とする。 企業の条件 有効な契約期間中である 広告CSV出力フラグ が真である 教室の条件 掲載設定が「掲載」かつ公開設定が「公開」 国内の教室である 求人の条件 削除されていない 掲載中である 「求人番号」が『1, 2, 3』のいずれか 作成したCSVファイルの配置場所は以下とする。 ディレクトリ： s3://prd-juku-private-tmnk-bucket/uploads/feedforce_csv/ 作成したCSVファイルは次のURLにて、下記の特定のIPアドレスからのみ閲覧できるようにする。 https://www.juku.st/csv_download/feedforce.csv 221.241.47.74 52.69.241.47 52.196.213.86 52.193.169.195 147.192.8.192 150.249.207.157 CSVファイルの出力ルールは以下とする。 選択式の項目の出力は、設定値の値ではなくその値の名称を出力する。 例： 【FIX】求人：勤務条件・指導科目 の「服装・髪型」で「茶髪可」が登録されていれば、そのマスタデータのIDではなく「茶髪可」と文字列で出力する。 フラグ系は、Trueの場合は「1」、Falseの場合は「0」と出力する。 ファイル名は feedforce.csv とする。 なおファイルアップロード時に、前回アップロードしたCSVファイルの名前を、タイムスタンプ(mtime)を付けたもの（feedforce.csv.{mtime}）にリネームすることで名前の重複を回避する。 CSVファイルフォーマットは https://docs.google.com/spreadsheets/d/16dUGSHlBrqZvrxWCjQxBXthyyzBQCwgABS7bVydWsLQ/edit#gid=1381470411 https://docs.google.com/spreadsheets/d/1yvs2rLDHxIuzrcLJary35EYDOxp6bPksjLVW8nxOykk/edit?gid=1789886903#gid=1789886903 を使用する。 必達終了時間は開始から1時間未満とし、処理できる目安の対象求人処理数は100,000件とする、これを実現できるパフォーマンスを確保する。 バッチ処理終了時には、バッチ処理が終了した旨のメッセージと終了日時を含んだログを出力する。 2.1. メールテンプレート 2.2. ワークフロー 3. 要件定義 3.1. 入力 3.2. 出力 3.3. 処理 3.4. エラー処理 3.5. ログ バッチ略称はgenerate feedforce csv file (GFCF) とする。 バッジ処理全体が開始した時と終了した時に以下のログを出力する。 開始時 [811_GFCF] Started at {処理開始日時}. 成功時 [811_GFCF] Succeeded to generate feedforce csv file time={現在時刻}. 失敗時 [811_GFCF] Failed to generate feedforce csv file time={現在時刻}. 終了時 [811_GFCF] Finished at {処理終了日時}. 4. スコープ外・制限事項 なし",
  "parentId": "744587528",
  "parentTitle": "810_■外部システム連携用バッチ",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/744947716/811_+FIX+feedforce+CSV",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2025-04-14T05:17:50.937Z",
  "author": "kotake_jin",
  "excerpt": "1. 概要 feedforceと連携する教室グループのcsvファイルを作成する機能。 本バッチ処理は毎日8時15分 (JST)に自動で処理を行う。 2. 要求事項 コマンドラインで実行する。 バッチ処理を開始したらバッチ処理を開始した旨のメッセージと現在日時を含むログを出力する。 以下の条件を満たす求人を対象とする。 企業の条件 有効な契約期間中である 広告CSV出力フラグ が真である 教室の条件..."
}