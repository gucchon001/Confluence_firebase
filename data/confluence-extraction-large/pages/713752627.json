{
  "id": "713752627",
  "title": "251_【統合のため削除】お祝い金申請一覧閲覧機能",
  "content": "トモノカイ様からのコメント より CTJ-609 0f376871-0459-35fc-b139-2a34c915ec22 System JIRA に統合。 1. 目次 2. 概要 本機能は 【レビュー中】採用お祝い申請 の登録済みのデータの一覧を閲覧するための機能です。 3. 要求事項 全体管理画面にログインすることができるシステム管理者が、概要で挙げた帳票に登録されている情報を一覧で閲覧することができる。 一覧ページ上部には、一覧フィルター用コンポーネント、表示可能なレコードの総数を表示する。 1ページあたりの表示数を50件とし、表示対象のレコードが51件以上の場合は、ページネーションと現在のページ数、総ページ数を一覧の上部と下部に表示する。 登録日時の降順で表示し、並べ替えを行うことはできなくて良い。 一覧フィルター用コンポーネントの表示項目は下記の通りで全てAND結合とし、「絞り込み」ボタンを表示するまでフィルター項目の変更は適用されないものとする。 本ページの https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/713752627#4.2.1.-%E6%A4%9C%E7%B4%A2%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%BC%E3%83%BB%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%8D%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3 で入力元として「入力フォーム：フィルター」が定義されている項目 絞り込みボタン 押下するとフィルター項目での一覧絞り込みを実行する。検索結果が1件もなかった場合は、「Not found」と表示する。 CSVダウンロードボタン 押下すると 一覧の各レコードには次の項目を表示する 本ページの「要件定義」-「出力」欄（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/713752627#4.3.2.-%E5%90%84%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E6%83%85%E5%A0%B1 ）で出力先として「画面」が定義されている項目 詳細ボタン 押下すると 252_【作成中】お祝い金申請詳細閲覧機能 へと遷移する。 3.1. 権限 システム管理者のみ 3.2. 帳票 【レビュー中】採用お祝い申請 の記載と同じ 3.3. メールテンプレート なし 3.4. ワークフロー 親ページのリンクを貼る の記載と同じ 3.4.1. 本機能 3.4.2. 関連 4. 要件定義 4.1. ユーザーインターフェース（画面） https://www.figma.com/file/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?type=design&amp;node-id=53417-47595&amp;mode=design&amp;t=tbJmFiiIKfvX8NuD-0 4.2. 入力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 4.2.1. 検索フィルター・ページネーション 項目名 変数名 入力元 説明 バリデーション ページ番号 URLパラメータ 一覧のページネーションで表示するページを指定するページ番号。自然数の数字で指定する。 入力がない場合、自然数に変換不可能な文字列が入力された場合、存在しないページ番号が指定された場合はいずれもページ番号を1として処理を行う。 自然数以外が入力された場合は1として処理しエラーは発生させない。 存在しないページ番号が指定された場合は1として処理しエラーは発生させない。 企業ID/コード URLパラメータ 1行テキストボックスで入力し、 【FIX】企業：基本情報 の「企業番号」「企業コード」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 企業名 URLパラメータ 1行テキストボックスで入力し、 【FIX】企業：基本情報 の「企業名」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 教室グループID URLパラメータ 1行テキストボックスで入力し、 【FIX】教室グループ の「教室グループID」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 教室グループ名 URLパラメータ 1行テキストボックスで入力し、 【FIX】教室グループ の「教室グループ名」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 教室ID（応募時） URLパラメータ 1行テキストボックスで入力し、 対応する帳票のリンクを貼る の「 項目名 」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 教室名（応募時） URLパラメータ 1行テキストボックスで入力し、 対応する帳票のリンクを貼る の「 項目名 」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 教室ID（採用） URLパラメータ 1行テキストボックスで入力し、 対応する帳票のリンクを貼る の「 項目名 」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 教室名（採用） URLパラメータ 1行テキストボックスで入力し、 対応する帳票のリンクを貼る の「 項目名 」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 会員ID URLパラメータ 1行テキストボックスで入力し、 対応する帳票のリンクを貼る の「 項目名 」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 応募ID URLパラメータ 1行テキストボックスで入力し、 対応する帳票のリンクを貼る の「 項目名 」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 氏名 URLパラメータ 1行テキストボックスで入力し、 【FIX】会員：プロフィール情報 の「氏名」を部分一致でフィルタリングする。 最大文字数は 30 文字、単一入力のみ受け付ける。最大文字数を超えた検索の場合は最初の 30 文字で検索をかける。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は空欄を表示する。 任意項目。入力されていない場合はフィルタリングをおこなわない。 投稿日時 URLパラメータ 検索期間の開始日時と終了日時について、それぞれ年・月・日・時・分でのデートタイムピッカーで入力し、それぞれの入力規制は 共通要件 に従う。 「本日分」ボタンを押下すると、押下した日付の0時から翌日の0時までを対象期間に入力する。 クリアボタンについては、「開始」ボタンを押下すると開始日時を初期値に戻す。「終了」ボタンを押下すると終了日時を初期値に戻す。「両方」ボタンを押下すると開始日時と終了日時を初期値に戻す。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は 現在の時間から1ヶ月前までの期間 を入力する。 任意項目。入力されていない場合はフィルタリングはおこなわない。 応募日時 URLパラメータ 検索期間の開始日時と終了日時について、それぞれ年・月・日・時・分でのデートタイムピッカーで入力し、それぞれの入力規制は 共通要件 に従う。 「本日分」ボタンを押下すると、押下した日付の0時から翌日の0時までを対象期間に入力する。 クリアボタンについては、「開始」ボタンを押下すると開始日時を初期値に戻す。「終了」ボタンを押下すると終了日時を初期値に戻す。「両方」ボタンを押下すると開始日時と終了日時を初期値に戻す。 初期状態は最後に入力したものを表示する。前に入力されたものがない場合は 現在の時間から1ヶ月前までの期間 を入力する。 任意項目。入力されていない場合はフィルタリングはおこなわない。 4.3. 出力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 4.3.1. 検索フィルター・ページネーション 出力項目 出力先 説明 件数 画面 指定されたフィルタリングを適用した結果表示可能なデータの総件数をページ上部に表示する。 総ページ数 画面 指定されたフィルタリングを適用した結果の件数に対して1ページあたり50件の表示で計算した総ページ数をページ上部に表示する。 ページ番号 画面 入力されたページ番号を入力処理にて変換した値をページ上部に表示する。 企業ID/コード 画面 入力された「企業ID/コード」を入力処理にて変換した値を、フィルター用コンポーネント内の「企業ID/コード」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 企業名 画面 入力された「企業名」を入力処理にて変換した値を、フィルター用コンポーネント内の「企業名」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 教室グループID 画面 入力された「教室グループID」を入力処理にて変換した値を、フィルター用コンポーネント内の「教室グループID」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 教室グループ名 画面 入力された「教室グループ名」を入力処理にて変換した値を、フィルター用コンポーネント内の「教室グループ名」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 教室ID（応募時） 画面 入力された「教室ID（応募時）」を入力処理にて変換した値を、フィルター用コンポーネント内の「教室ID（応募時）」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 教室名（応募時） 画面 入力された「教室名（応募時）」を入力処理にて変換した値を、フィルター用コンポーネント内の「教室名（応募時）」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 教室ID（採用） 画面 入力された「教室ID（採用）」を入力処理にて変換した値を、フィルター用コンポーネント内の「教室ID（採用）」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 教室名（採用） 画面 入力された「教室名（採用）」を入力処理にて変換した値を、フィルター用コンポーネント内の「教室名（採用）」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 会員ID 画面 入力された「会員ID」を入力処理にて変換した値を、フィルター用コンポーネント内の「会員ID」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 応募ID 画面 入力された「応募ID」を入力処理にて変換した値を、フィルター用コンポーネント内の「応募ID」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 氏名 画面 入力された「氏名」を入力処理にて変換した値を、フィルター用コンポーネント内の「氏名」のテキストボックスに適切なHTMLエスケープ処理を施して表示する。 投稿日時 画面 検索期間の開始日時と終了日時について、それぞれ年・月・日・時・分について、入力された値を入力処理にて変換した値を利用し、フィルター用コンポーネント内のそれぞれのデートタイムピッカーで初期選択状態とする。 応募日時 画面 検索期間の開始日時と終了日時について、それぞれ年・月・日・時・分について、入力された値を入力処理にて変換した値を利用し、フィルター用コンポーネント内のそれぞれのデートタイムピッカーで初期選択状態とする。 4.3.2. 各レコード情報 指定されたフィルタリングを適用してデータベースから抽出した商品情報レコードの配列をテーブル組みでページ上に表示する 出力項目 出力先 説明 投稿日時 画面 データベースから取得した 〇〇情報 1レコードの「投稿日時」。保存された値が指し示す選択肢のラベルを出力する。 教室名 画面 データベースから取得した 〇〇情報 1レコードの「教室名」を適切にHTMLエスケープして表示する。 氏名 画面 データベースから取得した 〇〇情報 1レコードの「氏名」を適切にHTMLエスケープして表示する。 4.4. 処理 ログイン状態を確認し、ログイン認証されていない場合は 全体管理者画面 のログイン画面にリダイレクトし、ログイン認証されているが権限の章に記載した権限を持っていない場合は 全体管理者画面の TOP画面にリダイレクトする。 「企業コード」「企業名」「教室グループ名」「管理メモ1」「管理メモ2」 の入力処理をおこなう。 入力された全ての条件をAND結合してデータベースから条件に合致したレコードの総件数を取得する。 レコードの総件数が 20,000 を超えていた場合、以降は総件数を 20,000 件として処理を続行する。 レコードの総件数からページ総数を計算し、「ページ番号」の入力がページ総数を超えていた場合、自然数以外を表す文字列だった場合は以降はページ番号=1として処理をおこなう。 レコードの総件数が0件だった場合、データの抽出を実行しないで0件の 〇〇 データ配列を生成する。 レコードの総件数が1件以上だった場合、上記の条件をもとにして登録日時の降順に並べて、指定されたページ番号に表示すべき 〇〇 情報50件のデータをデータベースから抽出する。 出力の章に記載した出力項目をページ表示できるよう整形し、ページを出力する。 4.5. エラー処理 入力処理でエラーは発生させない。 それ以外で発生した例外に関してはフレームワークの例外処理に任せる。 4.6. ログ 一覧を表示した場合に下記フォーマットでログを出力する User { 全体管理者 のユーザー番号} read company list. page={ページ番号} company_code={企業コード} company_name={企業名} brand_name={教室グループ名} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 5. スコープ外・制限事項 一覧表示された各レコードの並べ替え機能は提供しない",
  "parentId": "703856825",
  "parentTitle": "250_■お祝い金申請管理機能",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/713752627/251_",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2024-01-22T08:52:51.562Z",
  "author": "元ユーザー (Deleted)",
  "excerpt": "トモノカイ様からのコメント より CTJ-609 0f376871-0459-35fc-b139-2a34c915ec22 System JIRA に統合。 1. 目次 2. 概要 本機能は 【レビュー中】採用お祝い申請 の登録済みのデータの一覧を閲覧するための機能です。 3. 要求事項 全体管理画面にログインすることができるシステム管理者が、概要で挙げた帳票に登録されている情報を一覧で閲覧するこ..."
}