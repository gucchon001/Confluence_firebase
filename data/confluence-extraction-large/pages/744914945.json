{
  "id": "744914945",
  "title": "732_【FIX】急募終了3日前連絡メール送信バッチ",
  "content": "1. 概要 3日後に急募が終了する企業宛に、急募申込された求人がまもなく契約終了するという旨のメールを送信する。 2. 要求事項 コマンドラインで実行できるものとする。 本バッチは毎日8:00(JST)に自動実行するように設置する。 バッチ処理を開始したらバッチ処理を開始した旨のメッセージと現在日時を含むログを出力する。 処理は以下の通りである。 無効メールアドレス に該当するならば メール送信処理は行わず以下の情報が入ったログを出力する。 バウンスメールアドレスに該当しない場合、メール送信を実行する。 メール送信成功時にログを出力する。 連続してメール送信する場合は、各メールごとに0.1秒間スリープ処理を行う。 メール送信が失敗した場合はリトライ処理を行わない。 有効な急募契約（「オプション種別」が「急募」である商品の契約）を対象に、有効期間：終了日時がバッチ起動時から換算して 3日後で あれば対象の企業メールアドレスに対して 【作成中】急募終了3日前連絡メール（クライアント宛） を送信する。 バッチ処理終了時には、バッチ処理が終了した旨のメッセージと終了日時を含んだログを出力する。 必達終了時間9:00(JST)までの1時間以内に最大10,000件の処理を行えるパフォーマンスを確保する。 本機能からメールを送信した際、 【作成中】メール送信履歴 を保存する。 2.1. メールテンプレート 【作成中】急募終了3日前連絡メール（クライアント宛） 2.2. ワークフロー 3. 要件定義 3.1. 入力 3.2. 出力 3.3. 処理 3.4. エラー処理 下記通知先にエラーログ通知を行う。 【FIX】バッチエラー時通知先 3.5. ログ バッチ略称はsend_ hurry urgent _about_to_expire_reminder_mail (S U ATERM) とする。 バッジ処理全体が開始した時と終了した時に以下のログを出力する。 開始時 [732_S U ATERM] Started at {処理開始日時}. 終了時 [732_S U ATERM] Finished at {処理終了日時}. メール送信処理 成功時 [732_S U ATERM] Succeeded to send hurry urgent about to expire reminder email. company_number={対象企業番号} contract_number={契約番号} hurry_number ={急募オプション番号} time={現在時刻}. 失敗時 [732_S U ATERM] Failed to send hurry urgent about to expire reminder email. company_number={対象企業番号} contract_number={契約番号} hurry_number={急募オプション番号} time={現在時刻}. 4. スコープ外・制限事項 -",
  "parentId": "743703170",
  "parentTitle": "730_■急募関連バッチ",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/744914945/732_+FIX+3",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2024-04-08T08:00:13.582Z",
  "author": "ejiri_yusuke",
  "excerpt": "1. 概要 3日後に急募が終了する企業宛に、急募申込された求人がまもなく契約終了するという旨のメールを送信する。 2. 要求事項 コマンドラインで実行できるものとする。 本バッチは毎日8:00(JST)に自動実行するように設置する。 バッチ処理を開始したらバッチ処理を開始した旨のメッセージと現在日時を含むログを出力する。 処理は以下の通りである。 無効メールアドレス に該当するならば メール送信処..."
}