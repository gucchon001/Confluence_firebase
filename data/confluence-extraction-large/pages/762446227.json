{
  "id": "762446227",
  "title": "268_【FIX】Amazonギフト券管理-発行機能",
  "content": "1. 目次 2. 概要 本機能は 【FIX】Amazonギフト券情報 の登録済みのデータを使用し、Amazonへ問い合わせ、ギフトコードを発行する機能です。 3. 要求事項 管理画面にログインすることができるシステム管理者、塾講師ステーション管理者、ゲスト管理者、ギフト券担当者のみが本機能を使用できる。 本機能は 263_【FIX】Amazonギフト券管理-詳細閲覧機能 より 「発行する」 ボタンを押下することで実行される。 発行取り消しされた 【FIX】Amazonギフト券情報 は再発行できない。 ボタンを押下するとAmazonギフト券APIへリクエストを行い 、レスポンスを受け取る。リクエストの際に送信するデータは以下のとおり。 リクエストID creationRequestIdとして 通貨 常に日本円を指定する。 金額 お祝い金の金額を指定する。 お祝い金の可変化を実装するまでは1stの場合は3000円、2ndの場合は2000円を指定する。 リクエスト処理が 成功 している場合は、レスポンスデータを 【FIX】Amazonギフト券情報 の「ギフト券ID」「ギフト券番号」に保存し、ステータスを発行済みに変更する。完了すると「Amazonギフト券の発行が完了しました。」とポップアップを表示し、閉じると 261_【FIX】Amazonギフト券管理-一覧閲覧機能 へ遷移する。 リクエスト処理が失敗した場合は、「Amazonギフト券の発行に失敗しました。 後ほど時間をおいて再度発行してください 。」とポップアップを表示し、閉じると 263_【FIX】Amazonギフト券管理-詳細閲覧機能 へ遷移する。 新規登録で成功または失敗した場合、以下の情報が入ったログを出力する。 日時、全体管理者のユーザー番号、Amazonギフト券情報番号、ギフト券ID、発行されたアクセス元IPアドレス、ユーザーエージェント、アクション（成功or失敗） 3.1. 権限 要求に従う。 3.2. 帳票 概要に従う。 3.3. メールテンプレート なし 3.4. ワークフロー 260_【作成中】Amazonギフト券管理機能 と同様 4. 要件定義 4.1. ユーザーインターフェース（画面） なし 4.2. 入力 4.3. 出力 4.4. 処理 4.5. エラー処理 4.6. ログ 成功した場合 User {全体管理者のユーザー番号} issued gift card. gift_card_number={Amazonギフト券情報番号番号} gift_card_id={ギフト券ID} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 失敗した場合 User {全体管理者のユーザー番号} failed to issue gift card. gift_card_number={Amazonギフト券情報番号番号} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 5. スコープ外・制限事項",
  "parentId": "704446720",
  "parentTitle": "260_【作成中】Amazonギフト券管理機能",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/762446227/268_+FIX+Amazon+-",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2024-04-03T06:52:06.425Z",
  "author": "元ユーザー (Deleted)",
  "excerpt": "1. 目次 2. 概要 本機能は 【FIX】Amazonギフト券情報 の登録済みのデータを使用し、Amazonへ問い合わせ、ギフトコードを発行する機能です。 3. 要求事項 管理画面にログインすることができるシステム管理者、塾講師ステーション管理者、ゲスト管理者、ギフト券担当者のみが本機能を使用できる。 本機能は 263_【FIX】Amazonギフト券管理-詳細閲覧機能 より 「発行する」 ボタン..."
}