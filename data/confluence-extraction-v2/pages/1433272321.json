{
  "id": "1433272321",
  "title": "2025-03-17_障害報告",
  "content": "■ 概要 = 障害内容 サイト全体（アドミン/クライアント/サービスサイト）へのアクセスできない状態にあった。 = 障害時間 発生日時：2025-03-17 16:50頃 復旧日時：2025-03-17 17:06頃 = 影響範囲 対象時間に下記のサービスにアクセスした全ユーザ https://www.juku.st/ https://www.juku.st/admin &nbsp; https://www.juku.st/client ■詳細 = 対応経緯 2025/03/17 16:50：池田様からアクセスしづらい状況であることの連絡を受ける 2025/03/17 17:01：DB使用率の確認およびオートスケール後の負荷率の推移確認 2025/03/17 17:20：DB使用率が下がったことと原因となったスロークエリについて確認 2025/03/17 17:40：トモノカイ様へ報告 = 直接原因 DBサーバの使用率が高まり、オートスケールしたこと = = オートスケールのログ 2025/03/17 16:54：DBを追加するためのオートスケール開始 2025/03/17 17:02：DBを1台追加完了 2025/03/17 17:20：追加したDBを削除するためのオートスケール開始 2025/03/17 17:30：追加したDBの削除完了 = 根本原因 スロークエリの中でも特に処理が重いクエリが該当時間帯に数多く叩かれていたこと 3/17 16:45から17:10の間に叩かれたスロークエリの数（約6900件） 先週月曜日から日曜日までの16:45-17:10のスロークエリの数 1034件 415件 270件 569件 382件 205件 224件 6900件（オートスケールした） = 暫定対応 特になし = 恒久対応（再発防止策） 該当時間帯に実行されていたスロークエリの改善 イベント数が多いスロークエリ、1回あたりの実行時間が長いスロークエリを対象に進める クエリ自体の処理の仕方で改善できるところは行う 仕様上クエリ自体の処理の仕方で改善できない場合は仕様を見直すまたはキャッシュを活用し重いクエリのアクセス頻度を下げる オートスケーリングの設定確認 追加・削除のしきい値が適切か確認 関係者の皆様ご迷惑をおかけし申し訳ありませんでした。",
  "parentId": "1371963553",
  "parentTitle": "障害/インシデント/経緯報告",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/1433272321/2025-03-17_",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2025-03-19T04:09:33.906Z",
  "author": "kotake_jin",
  "excerpt": "■ 概要 = 障害内容 サイト全体（アドミン/クライアント/サービスサイト）へのアクセスできない状態にあった。 = 障害時間 発生日時：2025-03-17 16:50頃 復旧日時：2025-03-17 17:06頃 = 影響範囲 対象時間に下記のサービスにアクセスした全ユーザ https://www.juku.st/ https://www.juku.st/admin &nbsp; https:..."
}