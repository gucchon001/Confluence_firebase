{
  "id": "704774344",
  "title": "512_【FIX】教室管理-求人情報新規登録機能",
  "content": "1. 目次 2. 概要 本機能は 【FIX】求人：基本情報 【FIX】求人：勤務条件・指導科目 【FIX】求人：応募条件・研修情報 【FIX】求人：応募情報等 【FIX】求人：PR情報 の登録済みのデータを1件新規追加するための機能です。 3. 要求事項 クライアント企業向け管理画面にログインできるクライアント企業管理者が、概要で挙げた帳票に登録されている情報を一覧で閲覧することができる。 ただし自身の企業に紐づかない教室への求人の追加はできない 本機能へは、下記の導線で遷移する。 511_【FIX】教室管理-求人一覧閲覧機能 からの遷移（新規作成ボタンを押下した場合） 511_【FIX】教室管理-求人一覧閲覧機能 からの遷移（「コピーして作成」を押下した場合） コピーする求人の全ての入力項目を、URLパラメータへの入力として本機能に遷移する。 新規登録にあたって入力フォームに表示し入力可能な項目は以下の通り。 本ページの要件定義ー「入力」欄（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704774344#4.2.-%E5%85%A5%E5%8A%9B ）で入力元が「入力フォーム」と定義されている項目 登録するボタン キャンセルボタン 登録するボタンを押下すると、以下のエラーチェックを行う。 その教室に紐づく求人がすでに3つある場合は 「1つの教室には、求人は3つまでしか作成できません。」とエラーメッセージを表示する。 そのほかに入力内容に問題がある場合は、同入力フォームページのフォームに入力された値を表示した状態で、どの入力項目に問題があるかわかるようにエラーメッセージを表示する。 エラーチェックで問題がなければシステムで自動発行される求人番号とともに、レコードをデータベースに保存し、作成したことを示すポップアップを表示する。 保存が完了したら エリア平均給与算出共通処理 を実行する。 ポップアップには閉じるボタンを配置し、押下すると 511_【FIX】教室管理-求人一覧閲覧機能 に遷移する。 キャンセルボタンを押下すると 511_【FIX】教室管理-求人一覧閲覧機能 に遷移する。 ステーションに紐づく教室の求人一覧である場合は背景色を薄いオレンジにし、キャリアに紐づく教室の求人一覧である場合は背景色を薄い青色とする。 新規登録で成功または失敗した場合、以下の情報が入ったログを出力する。 日時、管理者ID、求人番号、アクセス元IPアドレス、ユーザーエージェント、アクション（成功or失敗） 3.1. 権限 クライアント企業向け管理画面にログインできるクライアント企業管理者 3.2. 帳票 概要に記載の帳票 3.3. メールテンプレート なし 3.4. ワークフロー 【FIX】求人登録・公開・削除フロー 3.4.1. 本機能 3.4.2. 関連 4. 要件定義 4.1. ユーザーインターフェース（画面） 4.1.1. 新規作成画面 https://www.figma.com/file/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?type=design&amp;node-id=65037-21417&amp;mode=design&amp;t=z3MYtPJ24zcIQV0Y-0 4.1.2. 作成完了を知らせる画面 https://www.figma.com/file/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?type=design&amp;node-id=65037-21483&amp;mode=design&amp;t=z3MYtPJ24zcIQV0Y-0 4.2. 入力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 入力項目 変数名 入力元 説明 制限 1 求人タイトル 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 2 表示順 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 3 指導特徴 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 4 雇用形態 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 5 指導形態 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 6 指導形態：補足説明 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 7 給与形態 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 8 給与形態：授業、コマ 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 9 給与：最低時給 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 注釈に https://www.mhlw.go.jp/stf/seisakunitsuite/bunya/koyou_roudou/roudoukijun/minimumichiran/index.html へのリンクを設置する。 都道府県ごとの最低賃金を登録した設定ファイルを参照し、その求人の教室の都道府県の最低賃金未満の金額だった場合はエラーを表示する。 最低賃金との比較判定は 172_【FIX】求人情報新規作成機能 と同じとする。 10 給与：最高時給 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 11 給与：補足説明 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 12 想定年収：最低 &nbsp; 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 入力フォーム上では千の桁以下を非表示として代わりに「万」を付けて表示する。 必須 13 想定年収：最高 &nbsp; 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 入力フォーム上では千の桁以下を非表示として代わりに「万」を付けて表示する。 必須 14 想定年収：補足説明 &nbsp; 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 &nbsp; 15 昇給 &nbsp; 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 &nbsp; 16 賞与 &nbsp; 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 &nbsp; 17 年間休日 &nbsp; 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 &nbsp; 18 休日・休暇 &nbsp; 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 &nbsp; 19 休日・休暇：補足説明 &nbsp; 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 &nbsp; 20 待遇 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 21 待遇：補足説明 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 22 仕事内容 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 23 質問1 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 24 質問2 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 25 質問3 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 26 メッセージ 入力フォーム URLパラメータで指定されている状態で作成する場合は、指定された値を初期値として入力された状態とし、指定されていない場合は、初期値はなしとする。 必須 4.3. 出力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 項目名 出力先 説明 1 教室名 画面 紐づけようとしている教室名を表示する 2 対象サイト 画面 紐づけようとしている対象サイトを表示する 3 掲載フラグ データベース/画面 「掲載」と表示する。エラーがない場合は「掲載」としてSQLインジェクション対策をしてデータベースに保存する。 4 求人タイトル データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 5 表示順 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 6 指導特徴 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内に、入力された値が指し示す選択肢が選択された状態で表示する。エラーがない場合は入力された値にSQLインジェクション対策をしてデータベースに保存する。 7 雇用形態 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内に、入力された値が指し示す選択肢が選択された状態で表示する。エラーがない場合は入力された値にSQLインジェクション対策をしてデータベースに保存する。 8 指導形態 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内に、入力された値が指し示す選択肢が選択された状態で表示する。エラーがない場合は入力された値にSQLインジェクション対策をしてデータベースに保存する。 9 指導形態：補足説明 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 10 給与形態 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内に、入力された値が指し示す選択肢が選択された状態で表示する。エラーがない場合は入力された値にSQLインジェクション対策をしてデータベースに保存する。 11 給与形態：授業、コマ データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 12 給与：最低時給 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 13 給与：最高時給 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 14 給与：補足説明 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 15 想定年収：最低 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 16 想定年収：最高 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 17 想定年収：補足説明 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 18 昇給 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 19 賞与 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 20 年間休日 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 21 休日・休暇 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 22 休日・休暇：補足説明 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 23 待遇 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内に、入力された値が指し示す選択肢が選択された状態で表示する。エラーがない場合は入力された値にSQLインジェクション対策をしてデータベースに保存する。 24 待遇：補足説明 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 25 仕事内容 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 26 質問1 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 27 質問2 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 28 質問3 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 29 メッセージ データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 30 作成者 データベース 【作成中】帳票共通項目 に従う。 31 作成日時 データベース 【作成中】帳票共通項目 に従う。 32 更新者 データベース 【作成中】帳票共通項目 に従う。 33 更新日時 データベース 【作成中】帳票共通項目 に従う。 4.4. 処理 ログイン状態を確認し、ログイン認証されていない場合はクライアント企業管理者画面のログイン画面にリダイレクトする。 4.4.1. 画面表示処理 本ページの「入力」（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704774344#4.2.-%E5%85%A5%E5%8A%9B ）に記載の全ての項目の入力フォームと登録ボタンを配置した画面を表示する。 4.4.2. 求人登録処理 入力フォームからのデータを受け取り、「入力」の定義にしたがって値の妥当性検査をおこなう。 入力項目値の妥当性に問題があった場合は、どの項目にどのような問題が発生したかわかるようにエラーメッセージを表示し、入力された値を入力フォーム内に表示・選択された状態で画面を出力して処理を終了する。 入力項目値の妥当性に問題がない場合は、入力された項目値と、作成日時、更新日時を操作している現在時刻とし、操作を行なっている全体管理者のユーザー番号を作成者/更新者に設定した上でデータベースに新規レコードとして挿入する。 511_【FIX】教室管理-求人一覧閲覧機能 ページへリダイレクトし、新規データ登録が完了したことがわかるようなポップアップを表示する。 4.5. エラー処理 上記以外で発生した例外に関してはフレームワークの例外処理に任せる。 4.6. ログ 新規登録画面を表示した場合に下記フォーマットでログを出力する。 User {クライアント企業管理者のユーザー番号} started to create job. company_number={企業番号} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 新規登録処理を実行した場合に下記フォーマットでログを出力する。 成功した場合 User {クライアント企業管理者のユーザー番号} created job. company_number={企業番号} job_number={求人番号} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 失敗した場合 User {クライアント企業管理者のユーザー番号} failed to create job. company_number={企業番号} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 5. スコープ外・制限事項 なし",
  "parentId": "704545187",
  "parentTitle": "510_■教室管理-求人管理機能",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/704774344/512_+FIX+-",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2025-07-29T09:56:33.052Z",
  "author": "ejiri_yusuke",
  "excerpt": "1. 目次 2. 概要 本機能は 【FIX】求人：基本情報 【FIX】求人：勤務条件・指導科目 【FIX】求人：応募条件・研修情報 【FIX】求人：応募情報等 【FIX】求人：PR情報 の登録済みのデータを1件新規追加するための機能です。 3. 要求事項 クライアント企業向け管理画面にログインできるクライアント企業管理者が、概要で挙げた帳票に登録されている情報を一覧で閲覧することができる。 ただし..."
}