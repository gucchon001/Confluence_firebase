{
  "id": "1266122853",
  "title": "333-2_【記載統合のため削除】記事プレビュー機能",
  "content": "※ 022_ 【作成中】記事詳細閲覧機能 にて機能実現する方針としたため、本ページは不要とする。 ★この件も考慮して記載する： https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/1242497025/2024-10-11+5?focusedCommentId=1250394150 1. 目次 2. 概要 本機能は記事（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/682557639 【FIX】記事カスタムフィールド値 【FIX】記事画像 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/1245544451/_ ）の登録済みのデータ1件をサービスサイト表示のプレビューとして閲覧するための機能です。 3. 要求事項 全体管理画面にログインできる全体管理者、塾講師ステーション管理者、ゲスト管理者、記事管理者、記事担当者のみが本機能を利用できる。 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/713359414 または https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704577796 のプレビューボタンをクリックすることで本機能を実行できる。 プレビュー画面は、ブラウザの別タブで開き、開いたタブに移動するものとする。 プレビューで表示する内容は https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/718373037 と同様とする。 プレビュー機能使用時には、 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/718373037 画面のクエリストリングとしてpreviewを追加し、previewがある場合下記の処理を追加する。 同じブラウザでクライアント全体管理者のログイン状況を確認する。 ログイン情報がない場合は404ページを表示する。 ログインしている場合は記事の公開フラグ・公開日時に関わらず記事のプレビューを表示する。 3.1. 権限 要求事項の記述に同じ。 3.2. 帳票 概要の記述に同じ。 3.3. メールテンプレート なし 3.4. ワークフロー 【FIX】求人登録・公開・削除フロー 3.4.1. 本機能 3.4.2. 関連 4. 要件定義 4.1. ユーザーインターフェース（画面） 4.1.1. 本機能を使用する入り口としての記事一覧 https://www.figma.com/design/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?node-id=185174-36130&amp;node-type=frame&amp;t=2uuQXc61MN81TRwr-0 4.1.2. 本機能を使用する入り口としての記事詳細 https://www.figma.com/design/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?node-id=185174-35836&amp;node-type=frame&amp;t=2uuQXc61MN81TRwr-0 4.2. 入力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 入力項目 変数名 入力元 説明 制限 1 記事番号 URLパラメータ（クエリストリング） プレビューを閲覧する記事のIDとして 必須 4.3. 出力 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/718373037 の出力定義に従う。 4.4. 処理 ログイン状態を確認し、ログイン認証されていない場合は全体管理者画面のログイン画面にリダイレクトする。 URL文字列から入力された求人番号文字列を取得し、記事番号文字列が自然数に変換できない場合、レスポンスステータス404 not foundを出力して処理を終了する。 記事番号文字列を元にデータベースから概要に記載の帳票を取得する。対象の記事番号のデータが存在しない場合、レスポンスステータス404 not foundを出力して処理を終了する。 対象の記事データが存在したら、「出力」欄に記載の通り、値に適切な変換処理を行ったのちに画面を出力し処理を終了する。 4.5. エラー処理 入力処理でエラーは発生させない。 それ以外で発生した例外に関してはフレームワークの例外処理に任せる。 4.6. ログ プレビュー画面を表示した場合に下記フォーマットでログを出力する User {全体管理者のユーザー番号} read page detail preview. page_id={記事番号} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 5. スコープ外・制限事項 データベースに保存された内容のプレビューをする機能とし、編集中の入力項目をプレビューする機能ではない",
  "parentId": "703496344",
  "parentTitle": "330_■記事管理機能",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/1266122853/333-2_",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2024-11-15T07:51:09.078Z",
  "author": "ejiri_yusuke",
  "excerpt": "※ 022_ 【作成中】記事詳細閲覧機能 にて機能実現する方針としたため、本ページは不要とする。 ★この件も考慮して記載する： https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/1242497025/2024-10-11+5?focusedCommentId=1250394150 1. 目次 2. 概要 本機能は記事（ https:..."
}