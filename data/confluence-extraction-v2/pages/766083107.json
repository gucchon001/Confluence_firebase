{
  "id": "766083107",
  "title": "111-2_【FIX】契約検索API",
  "content": "1. 概要 契約情報のリストを取得するためのAPI。 2. 要件 RESTfull APIでJSON形式で出力する。 2.1. 権限 111_【FIX】契約一覧閲覧・検索機能 と同じとする。 2.2. 入力 111_【FIX】契約一覧閲覧・検索機能 と同じ項目および下記項目とする。 項目名 変数名 入力元 説明 制限とエラーメッセージ 1 契約番号 contract_number URLパラメータ 「契約番号」の完全一致でフィルタリングする。 任意項目。入力されていない場合はフィルタリングをおこなわない。 2 教室グループ番号 classroom_group_number URLパラメータ 「対象教室グループ：教室グループ番号」を完全一致でフィルタリングする。 任意項目。入力されていない場合はフィルタリングをおこなわない。 3 商品種別 service_type URLパラメータ 契約に紐づく商品の「商品種別」でフィルタリングする。 任意項目。入力されていない場合はフィルタリングをおこなわない。 4 1ページあたりの行数 &nbsp;rows_per_page URLパラメータ 取得するレコード数 任意項目。入力されていない場合は50とする。 上限は1,000とする。 5 ソート項目 sort_item URLパラメータ 並び替えを行う項目 6 ソート順 sort_order URLパラメータ 「昇順」「降順」 2.3. 出力 111_【FIX】契約一覧閲覧・検索機能 と同じ項目および下記の項目とし、JSON形式で出力する。 出力項目 出力先 説明 1 行数 JSONボディ 取得するレコード数 入力された値を出力する 2 エラーメッセージオブジェクト JSONボディ 2.3.1. 出力サンプル API共通要件 参照 2.4. 処理 ログイン状態を確認し、ログイン認証されていない場合はログイン認証エラーとし、ログイン認証されているが権限の章に記載した権限を持っていない場合は権限エラーとする。 入力欄（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/766083107/111-2+API#2.2.-%E5%85%A5%E5%8A%9B ）に記載の項目の入力処理をおこなう。 入力された全ての条件をAND結合してデータベースから条件に合致したレコードの総件数を取得する。 レコードの総件数が100,000を超えていた場合、以降は総件数を100,000件として処理を続行する。 レコードの総件数からページ総数を計算し、「ページ番号」の入力がページ総数を超えていた場合、自然数以外を表す文字列だった場合は以降はページ番号=1として処理をおこなう。 レコードの総件数が0件だった場合、データの抽出を実行しないで0件のデータ配列を生成する。 レコードの総件数が1件以上だった場合、上記の条件をもとにして登録日時の降順に並べて、指定されたページ番号に表示すべき情報50件のデータをデータベースから抽出する。 出力欄（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/766083107/111-2+API#2.3.-%E5%87%BA%E5%8A%9B ）に記載した出力項目を出力する。",
  "parentId": "714670163",
  "parentTitle": "111_【FIX】契約一覧閲覧・検索機能",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/766083107/111-2_+FIX+API",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2023-08-08T01:15:38.147Z",
  "author": "ejiri_yusuke",
  "excerpt": "1. 概要 契約情報のリストを取得するためのAPI。 2. 要件 RESTfull APIでJSON形式で出力する。 2.1. 権限 111_【FIX】契約一覧閲覧・検索機能 と同じとする。 2.2. 入力 111_【FIX】契約一覧閲覧・検索機能 と同じ項目および下記項目とする。 項目名 変数名 入力元 説明 制限とエラーメッセージ 1 契約番号 contract_number URLパラメータ..."
}