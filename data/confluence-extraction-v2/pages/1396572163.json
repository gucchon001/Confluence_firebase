{
  "id": "1396572163",
  "title": "2025-02-18_障害報告",
  "content": "■ 障害報告 = 障害内容 CTJ-5060 0f376871-0459-35fc-b139-2a34c915ec22 System Jira の本番反映後にDBの使用率が高まりサービスサイト/アドミン/クライアントにアクセスできない状況が続いた。 = 障害時間 2025年 2月 18日 9:15 〜 2025年 2月 18日 10:30 = 影響範囲 対象時間に下記のサービスにアクセスした全ユーザ https://www.juku.st/ = 対応内容 2025年 2月 18日 9:15 監視ツールによってサイトダウン検知 2025年 2月 18日 9:15 DBの負荷があがっていることを確認 2025年 2月 18日 9:29 メンテナンスモードを設定 2025年 2月 18日 9:35 リーダーインスタンスを増加させ負荷分散を実施 2025年 2月 18日 9:57 ジョブ分割およびジョブ実行処理を停止(今回反映した処理を切り戻し) 2025年 2月 18日 10:05 リーダーインスタンスの再起動を実施 2025年 2月 18日 10:25 負荷が下がったので、メンテナンスモード解除 = 直接原因 全てのキャッシュジョブが新規のキャッシュキーを利用する為、キャッシュ作り直す事象が発生することは想定していたが、想定を超えたDBの負荷が発生した。 下記のキャッシュを作り直している 人気の駅 人気の地域 人気のブランド 求人の総件数 キャリア求人の総件数 人気の路線 = 根本原因 調査中 = 調査方針案 下記をSTG環境にて行い、原因を調査・特定する。 STG環境に本番環境と同等のデータ量をインポートする。（例：本番環境のDBデータをコピー） キャッシュ処理をジョブで実行せず、Laravelバッチ化して個々の実行時間帯を分散させ、原因特定しやすくする。 関係者の皆様ご迷惑をおかけし申し訳ありませんでした。",
  "parentId": "1371963553",
  "parentTitle": "障害/インシデント/経緯報告",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/1396572163/2025-02-18_",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2025-02-19T05:56:54.359Z",
  "author": "kotake_jin",
  "excerpt": "■ 障害報告 = 障害内容 CTJ-5060 0f376871-0459-35fc-b139-2a34c915ec22 System Jira の本番反映後にDBの使用率が高まりサービスサイト/アドミン/クライアントにアクセスできない状況が続いた。 = 障害時間 2025年 2月 18日 9:15 〜 2025年 2月 18日 10:30 = 影響範囲 対象時間に下記のサービスにアクセスした全ユー..."
}