{
  "id": "883654845",
  "title": "513_4【FIX】教室管理-求人情報編集機能（PR情報タブ）",
  "content": "1. 目次 2. 概要 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 3. 要求事項 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 3.1. 権限 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 3.2. 帳票 173_【FIX】求人情報編集機能（基本情報タブ） の記載を参照。 3.3. メールテンプレート 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 3.4. ワークフロー 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 3.4.1. 本機能 3.4.2. 関連 4. 要件定義 4.1. ユーザーインターフェース（画面） 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 4.1.1. PR情報タブ https://www.figma.com/file/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?type=design&amp;node-id=67681-22530&amp;mode=design&amp;t=mVxuMdv2ITvM4J6Y-0 4.2. 入力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 4.2.1. PR情報 項目名 変数名 入力元 説明 制限とエラーメッセージ 1 求人番号 &nbsp; 入力フォーム 隠しフォーム 編集する対象の求人の 【FIX】求人：基本情報 における求人番号 必須 2 PR情報：塾の特徴 入力フォーム 初期値＝データベースから読み込んだ値 3 教室PRタイトル 入力フォーム 初期値＝データベースから読み込んだ値 4 教室PR情報 入力フォーム 初期値＝データベースから読み込んだ値 5 教室からのひとこと：タイトル 入力フォーム 初期値＝データベースから読み込んだ値 6 教室からのひとこと：説明 入力フォーム 初期値＝データベースから読み込んだ値 7 教室PR情報：プラスワン情報説明文 入力フォーム 初期値＝データベースから読み込んだ値 4.3. 出力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 4.3.1. PR情報 出力項目 出力先 説明 1 教室名 画面 紐づけようとしている教室名を表示する。 2 対象サイト 画面 紐づけようとしている教室の対象サイトを表示する。 3 求人番号 データベース/画面 HTMLエスケープ処理をして出力する。 4 PR情報：塾の特徴 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内に、入力された値が指し示す選択肢が選択された状態で表示する。エラーがない場合は入力された値にSQLインジェクション対策をしてデータベースに保存する。 ただし求人が削除されており、直リンクでアクセスのあった場合は保存されている値が指し示す選択肢をテキストで表示する。 5 教室PRタイトル データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 ただし求人が削除されており、直リンクでアクセスのあった場合は保存されている値をテキストで表示する。 6 教室PR情報 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 ただし求人が削除されており、直リンクでアクセスのあった場合は保存されている値をテキストで表示する。 7 教室からのひとこと：タイトル データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 ただし求人が削除されており、直リンクでアクセスのあった場合は保存されている値をテキストで表示する。 8 教室からのひとこと：説明 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 ただし求人が削除されており、直リンクでアクセスのあった場合は保存されている値をテキストで表示する。 9 教室PR情報：プラスワン情報説明文 データベース/画面 入力妥当性検査によるエラー発生時は画面の対象フォーム内にHTMLエスケープ処理をして出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 ただし求人が削除されており、直リンクでアクセスのあった場合は保存されている値をテキストで表示する。 10 更新者 データベース 【作成中】帳票共通項目 に従う。 11 更新日時 データベース 【作成中】帳票共通項目 に従う。 4.4. 処理 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 4.4.1. 編集フォーム画面表示処理 該当するレコードが見つかったら、「出力」（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/883654845/513+4+-+PR#4.3.1.-PR%E6%83%85%E5%A0%B1 ）に記載の通り、表示項目と入力可能項目に項目値を反映させて画面を出力し処理を終了する。 4.4.2. 編集処理 該当するレコードが見つかったら、「入力」（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/883654845/513+4+-+PR#4.2.1.-PR%E6%83%85%E5%A0%B1 ）に記載の入力項目値の妥当性検査を行う。 入力項目値の妥当性に問題があった場合は、どの項目にどのような問題が発生したかわかるようにエラーメッセージを表示し、入力された値を入力フォーム内に表示・選択された状態で編集フォーム画面を出力して処理を終了する。 入力項目値の妥当性に問題がない場合は、入力された項目値と、更新日時を操作している現在時刻とし、操作を行なっている全体管理者のユーザー番号を更新者に設定した上でデータベースの該当レコードを更新する。 編集が完了したことが分かるフラッシュメッセージを表示して処理を終了する。 4.5. エラー処理 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 4.6. ログ 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 5. スコープ外・制限事項 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。",
  "parentId": "704610884",
  "parentTitle": "513_【FIX】教室管理-求人情報編集機能（基本情報タブ）",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/883654845/513_4+FIX+-+PR",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2023-11-28T02:36:22.680Z",
  "author": "元ユーザー (Deleted)",
  "excerpt": "1. 目次 2. 概要 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 3. 要求事項 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 3.1. 権限 513_【FIX】教室管理-求人情報編集機能（基本情報タブ） の記載を参照。 3.2. 帳票 173_【FIX】求人情報編集機能（基本情報タブ） の記載を参照。 3.3. メールテンプレー..."
}