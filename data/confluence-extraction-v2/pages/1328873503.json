{
  "id": "1328873503",
  "title": "【不要】情報局_sitemap.xml生成バッチ",
  "content": "https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/1333723137 のページに情報局のXMLサイトマップの定義を記載しました。そのため、下記の内容は、不要とします。 1. 概要 日ごとに情報局に関するページのsitemap.xmlを作成しS3に配置する。 2. 要求事項 コマンドラインで実行できるものとする。毎日6:00(JST)に自動実行する。 バッチ処理を開始したらバッチ処理を開始した旨のメッセージと現在日時を含むログを出力する。 sitemap.xmlの出力先は以下とする。 s3://prd-juku-public-tmnk-bucket/uploads/sitemaps/ サイトマップファイルはhttps://www.juku.st/{サイトマップファイル名}で表示できるようにする。 例） https://www.juku.st/ brands-sitemap.xml 1~13の以下のページ単位でファイルの作成処理を行う。 バッチ処理終了時には、バッチ処理が終了した旨のメッセージと終了日時を含んだログを出力する。 必達終了時間は7:00(JST)とし、その1時間以内に上の処理を完了するようにパフォーマンスを確保する。 ファイル名・対象ページ・出力条件の一覧表 ファイル名とサンプルファイル sitemap 対象ページ 出力条件 1 info-categories-sitemap.xml 情報局記事カテゴリ 以下の条件を満たす記事が1件以上存在するカテゴリを出力する 【記事の条件】 ・公開中 ・検索対象になっている 2 info-entries-sitemap.xml 情報局記事詳細 以下の条件を満たす記事が出力されます。 【記事の条件】 ・公開中 2.1. メールテンプレート 2.2. ワークフロー 3. 要件定義 3.1. 入力 3.2. 出力 3.3. 処理 3.4. エラー処理 下記通知先にエラーログ通知を行う。 【FIX】バッチエラー時通知先 3.5. ログ バッチ略称はgenerate_daily_sitemaps (GDM) とする。 バッジ処理全体が開始した時と終了した時に以下のログを出力する。 開始時 [804_GDM] Started at {処理開始日時}. 成功時 [804_GDM] Succeeded to generate daily sitemap. sitemap_file_name={生成されたファイル名} time={現在時刻}. 失敗時 [804_GDM] Failed to generate daily sitemap. failed_sitemap_file_name={生成に失敗したファイル名} time={現在時刻}. 終了時 [804_GDM] Finished at {処理終了日時}. 4. スコープ外・制限事項 -",
  "parentId": "744718575",
  "parentTitle": "800_■システム内部処理関連バッチ",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/1328873503/_sitemap.xml",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2024-12-18T09:10:51.673Z",
  "author": "kotake_jin",
  "excerpt": "https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/1333723137 のページに情報局のXMLサイトマップの定義を記載しました。そのため、下記の内容は、不要とします。 1. 概要 日ごとに情報局に関するページのsitemap.xmlを作成しS3に配置する。 2. 要求事項 コマンドラインで実行できるものとする。毎日6:00(JST..."
}