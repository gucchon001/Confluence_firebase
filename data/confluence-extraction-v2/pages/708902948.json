{
  "id": "708902948",
  "title": "141_【作成中】メッセージテンプレート一覧閲覧機能",
  "content": "1. 目次 2. 概要 本機能は 【作成中】企業：メッセージテンプレート の登録済みのデータの一覧を閲覧するための機能です。 3. 要求事項 管理画面にログインできるシステム管理者、塾講師ステーション管理者、ゲスト管理者のみが概要で挙げた帳票に登録されている情報を一覧で閲覧することができる。 125_【FIX】企業詳細閲覧機能 に本ページへの導線を用意している。 一覧ページ上部には、表示可能なレコードの総数 、 新規登録ボタンを表示する。 1ページあたりの表示数を50件とし、表示対象のレコードが51件以上の場合は、ページネーションと現在のページ数、総ページ数を一覧の上部と下部に表示する。 登録日時の降順で表示し、並べ替えを行うことはできなくて良い。 レコード一覧の上に次の項目を表示する 新規登録ボタン 押下すると 142_メッセージテンプレート新規登録機能 に遷移する。 企業詳細に戻るボタン 押下すると 125_【FIX】企業詳細閲覧機能 に遷移する。 本ページの 「要件定義」-「出力」「ページネーション・ページ上部」 欄で出力先として「画面」が定義されている項目 一覧の各レコードには次の項目を表示する 本ページの 「要件定義」-「出力」「各レコード内」 欄で出力先として「画面」が定義されている項目 編集ボタン 押下すると 143_メッセージテンプレート編集機能 へと遷移する。 削除ボタン 押下すると 144_メッセージテンプレート削除機能 を実行する。 3.1. 権限 管理画面にログインできるシステム管理者、塾講師ステーション管理者、ゲスト管理者のみ 3.2. 帳票 【作成中】企業：メッセージテンプレート 【FIX】企業：基本情報 3.3. メールテンプレート なし 3.4. ワークフロー 3.4.1. 本機能 3.4.2. 関連 【FIX】オファー・応募・選考・採用フロー 4. 要件定義 4.1. ユーザーインターフェース（画面） https://www.figma.com/file/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?type=design&amp;node-id=52567-46905&amp;mode=design&amp;t=PRYSskljaJYjgryx-4 4.2. 入力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 4.2.1. ページネーション 項目名 変数名 入力元 説明 バリデーション ページ番号 URLパラメータ 一覧のページネーションで表示するページを指定するページ番号。自然数の数字で指定する。 入力がない場合、自然数に変換不可能な文字列が入力された場合、存在しないページ番号が指定された場合はいずれもページ番号を1として処理を行う。 自然数以外が入力された場合は1として処理しエラーは発生させない。 存在しないページ番号が指定された場合は1として処理しエラーは発生させない。 企業番号 URLパラメータ 閲覧するメッセージテンプレートに紐づく企業を一意に指定するためのID 4.3. 出力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 4.3.1. ページネーション・ページ上部 出力項目 出力先 説明 件数 画面 指定されたフィルタリングを適用した結果表示可能なデータの総件数をページ上部に表示する。 総ページ数 画面 指定されたフィルタリングを適用した結果の件数に対して1ページあたり50件の表示で計算した総ページ数をページ上部に表示する。 ページ番号 画面 入力されたページ番号を入力処理にて変換した値をページ上部に表示する。 企業番号 画面 閲覧しているメッセージテンプレートに紐づく 【FIX】企業：基本情報 の企業番号を表示する。 企業名 画面 閲覧しているメッセージテンプレートに紐づく 【FIX】企業：基本情報 の企業名を適切にHTMLエスケープして表示する。 4.3.2. 各レコード情報 データベースから抽出したメッセージテンプレート情報レコードの配列をテーブル組みでページ上に表示する 出力項目 出力先 説明 テンプレート名 画面 【作成中】企業：メッセージテンプレート の「テンプレート名」を適切にHTMLエスケープして表示する。 件名 画面 【作成中】企業：メッセージテンプレート の「件名」を適切にHTMLエスケープして表示する。 4.4. 処理 ログイン状態を確認し、ログイン認証されていない場合、または管理者権限でログインしていない場合は全体管理者画面のログイン画面にリダイレクトする。 「〇〇」「△△」(フィルター項目)の入力処理をおこなう。 入力された全ての条件をAND結合してデータベースから条件に合致したレコードの総件数を取得する。 ？レコードの総件数が1000を超えていた場合、以降は総件数を1000件として処理を続行する。？(商品一覧ページからコピーしてきたが、よく分からない) レコードの総件数からページ総数を計算し、「ページ番号」の入力がページ総数を超えていた場合、自然数以外を表す文字列だった場合は以降はページ番号=1として処理をおこなう。 レコードの総件数が0件だった場合、データがない旨を画面に表示する。 レコードの総件数が1件以上だった場合、上記の条件をもとにして登録日時の降順に並べて、指定されたページ番号に表示すべき〇〇(文言を更新)情報50件のデータをデータベースから抽出する。 出力の章に記載した出力項目をページ表示できるよう整形し、ページを出力する。 4.5. エラー処理 入力処理でエラーは発生させない。 それ以外で発生した例外に関してはフレームワークの例外処理に任せる。 4.6. ログ 一覧を表示した場合に下記フォーマットでログを出力する 5. スコープ外・制限事項 一覧表示された各レコードの並べ替え機能は提供しない",
  "parentId": "704315447",
  "parentTitle": "140_メッセージテンプレート管理機能",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/708902948/141_",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2023-10-26T09:48:22.360Z",
  "author": "元ユーザー (Deleted)",
  "excerpt": "1. 目次 2. 概要 本機能は 【作成中】企業：メッセージテンプレート の登録済みのデータの一覧を閲覧するための機能です。 3. 要求事項 管理画面にログインできるシステム管理者、塾講師ステーション管理者、ゲスト管理者のみが概要で挙げた帳票に登録されている情報を一覧で閲覧することができる。 125_【FIX】企業詳細閲覧機能 に本ページへの導線を用意している。 一覧ページ上部には、表示可能なレコ..."
}