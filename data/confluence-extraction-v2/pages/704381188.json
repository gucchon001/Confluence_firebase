{
  "id": "704381188",
  "title": "213_【FIX】応募編集・詳細閲覧機能",
  "content": "1. 目次 2. 概要 本機能は 【FIX】応募情報 の登録済みのデータ1件およびそれに紐づく 【FIX】会員：アカウント情報 【FIX】会員：プロフィール情報 【FIX】会員：学歴情報 【FIX】会員：指導可能科目 【レビュー中】会員：設定情報（希望条件） の登録済みのデータを閲覧・編集するための機能です。 3. 要求事項 管理画面にログインすることができるシステム管理者、塾講師ステーション管理者、ゲスト管理者のみが本機能を利用することができる。 本機能は 【FIX】応募情報 とそれに紐づく 【FIX】会員：アカウント情報 【FIX】会員：プロフィール情報 【FIX】会員：学歴情報 【FIX】会員：指導可能科目 【レビュー中】会員：設定情報（希望条件） の登録済み情報を閲覧し、本ページの 「要件定義」-「入力」 欄で 入力元が「入力フォーム」と定義されている項目を編集することができる。 画面上には以下の項目を表示する 本ページの 「要件定義」-「入力」 欄で 入力元が「入力フォーム」と定義されている項目 本ページの 「要件定義」-「出力」 欄で 出力先が「画面」と定義されている項目 一覧に戻るボタン 押下することで編集を取り消し、 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/713916417 に遷移する 。 応募完了メール送信（教室）ボタン 押下すると 【作成中】応募完了メール（クライアント企業管理者向け） を再送する。 応募完了メール送信（応募者）ボタン 押下すると 【作成中】応募完了メール（会員宛） を 再送 する。 更新するボタン 押下すると、入力内容にエラーがあれば更新はせずにエラーの内容を表示する。エラーがなければそのまま編集した入力フォームの内容をデータベースに保存し、システム全体に適用し、更新完了を示すモーダルを表示する。モーダル内には閉じるボタンを配置し、閉じるボタンを押下すると https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/713916417 へ遷移する。 編集が完了した際に、採用ステータスの変更内容に応じて下記を行う。 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/906690562#2.1.-%E6%8E%A1%E7%94%A8%E3%82%B9%E3%83%86%E3%83%BC%E3%82%BF%E3%82%B9%E5%A4%89%E6%9B%B4%E3%81%AB%E3%82%88%E3%82%8B%E8%AB%8B%E6%B1%82%E3%81%B8%E3%81%AE%E5%8F%8D%E6%98%A0%E5%87%A6%E7%90%86 編集で成功または失敗した場合、以下の情報が入ったログを出力する。 日時、管理者ID( 【FIX】全体管理者登録情報 のユーザー番号)、応募番号( 【FIX】応募情報 の応募番号)、アクセス元IPアドレス、ユーザーエージェント、アクション（成功or失敗） 本機能からメールを送信した際、 【作成中】メール送信履歴 を保存する。 3.1. 権限 管理画面にログインすることができるシステム管理者、塾講師ステーション管理者、ゲスト管理者のみ 3.2. 帳票 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704545010 の記載と同じ 3.3. メールテンプレート なし 3.4. ワークフロー https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704545010 の記載と同じ 3.4.1. 本機能 3.4.2. 関連 4. 要件定義 4.1. ユーザーインターフェース（画面） 4.1.1. 編集画面 https://www.figma.com/file/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?type=design&amp;node-id=17775-42004&amp;mode=design&amp;t=9Ub0qrmnHIKvRfaH-4 4.1.2. 編集完了 モーダル https://www.figma.com/file/8zITZViFoU0WYNnwig5AKc/%E3%80%90%E5%85%B1%E6%9C%89%E3%80%91%E3%83%88%E3%83%A2%E3%83%8E%E3%82%AB%E3%82%A4%E6%A7%98_%E5%A1%BE?type=design&amp;node-id=48713-70656&amp;mode=design&amp;t=MoKSLzrbSU41laDn-4 4.2. 入力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 項目名 変数名 入力元 説明 制限 1 応募番号 入力フォーム 隠しフォーム 編集する対象の企業の 【FIX】企業：基本情報 における応募番号 必須 2 採用ステータス 入力フォーム 初期値＝データベースから読み込んだ値 4.3. 出力 説明は、帳票の各ページの記載を前提とし、本ページに固有の特記事項のみ記載する。 出力項目 出力先 説明 企業名 画面 応募した求人に紐づく教室に紐づく 【FIX】企業：基本情報 の「企業名」を表示する。該当企業の https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/740163745 へのテキストリンクとし、押下すると別タブで開く。 教室名（応募時） 画面 応募した求人に紐づく 【FIX】教室グループ の 「教室グループ名」 と 【FIX】教室：基本情報／所在地 の「教室名」を表示する。 教室名（採用） 画面 応募情報の「採用された教室番号」に紐づく 【FIX】教室グループ の「教室グループ名」と 【FIX】教室：基本情報／所在地 の「教室名」を表示する。該当教室の https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704643213 へのテキストリンクとし、押下すると別タブで開く。 応募番号 画面 HTMLエスケープ処理をして出力する。 応募求人 画面 応募した 【FIX】求人：基本情報 の「求人タイトル」を表示し、サービスサイトの該当求人へのテキストリンクとし、押下すると別タブで開く。 応募日時 画面 【FIX】応募情報 の作成日時を表示する。 成果報酬商品名 画面 応募した求人の「成果報酬商品番号」に紐づく 【FIX】商品マスタ（統合版） の「表示名称」を表示する。該当商品の https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/717455936 へのテキストリンクとし、押下すると別タブで開く。 ユーザー番号 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 会員ID 画面 【FIX】会員：アカウント情報 の同項目の説明に従う。 氏名 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 フリガナ 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 性別 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 生年月日 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 郵便番号 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 都道府県 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 市区町村 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 最寄り駅 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 現在の職業 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 希望雇用形態 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/891060248/043_3#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 希望職種 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/891060248/043_3#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 希望勤務地 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/891060248/043_3#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 大学名 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/832929990 の同項目の説明に従う。 国名 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/832929990 の同項目の説明に従う。 学部名 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/832929990 の同項目の説明に従う。 学科名 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/832929990 の同項目の説明に従う。 学年 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/832929990 の同項目の説明に従う。 入学年月 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/832929990 の同項目の説明に従う。 文理 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/832929990 の同項目の説明に従う。 電話番号 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 メールアドレス 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 メルマガ購読可否 画面 【FIX】会員：設定情報（オファー・メール） の同項目の説明に従う。 職歴・自己PR 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704053299/043#4.3.-%E5%87%BA%E5%8A%9B の同項目の説明に従う。 指導可能科目 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/833093645 の同項目の説明に従う。 指導経験（家庭教師を含む） 画面 https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/833093645 の同項目の説明に従う。 採用ステータス 画面 画面の対象フォーム内に、保存された値に対応するラベルを出力、エラーがない場合はSQLインジェクション対策をしてデータベースに保存する。 勤務希望：勤務可能期間 画面 【レビュー中】会員：設定情報（希望条件） にて 保存された値が指し示す選択肢のラベルを出力する。 質問1 画面 紐づく求人の 【FIX】求人：基本情報 の「質問1」を適切にHTMLエスケープ処理をして出力する。 回答1 画面 【FIX】応募情報 の「塾からの質問への回答：質問1」を適切にHTMLエスケープ処理をして出力する。 質問2 画面 紐づく求人の 【FIX】求人：基本情報 の「質問2」を適切にHTMLエスケープ処理をして出力する。 回答2 画面 【FIX】応募情報 の「塾からの質問への回答：質問2」を適切にHTMLエスケープ処理をして出力する。 質問3 画面 紐づく求人の 【FIX】求人：基本情報 の「質問3」を適切にHTMLエスケープ処理をして出力する。 回答3 画面 【FIX】応募情報 の「塾からの質問への回答：質問3」を適切にHTMLエスケープ処理をして出力する。 採用決定日 画面 保存された値が指し示す日付をYYYY年MM月DD日の形式で出力する。 研修初日 画面 保存された値が指し示す日付をYYYY年MM月DD日の形式で出力する。 在籍確認 画面 保存された値が指し示す選択肢のラベルを出力する。 在籍確認：日付 画面 保存された値が指し示す日付をYYYY年MM月DD日の形式で出力する。 メモ 画面 適切にHTMLエスケープ処理をして出力する。 4.4. 処理 ログイン状態を確認し、ログイン認証されていない場合は全体管理者画面のログイン画面にリダイレクトし、ログイン認証されているが権限の章に記載した権限を持っていない場合は全体管理者画面のTOP画面にリダイレクトする。 URL文字列または隠しフォーム入力から応募番号文字列を取得し、入力がない場合/自然数ではない場合はレスポンスステータス404 not foundを出力して処理を終了する。 指定された応募番号でデータベースから該当するレコードを抽出する。 該当するレコードがデータベース上に存在しない場合はレスポンスステータス404 not foundを出力して処理を終了する。 4.4.1. 編集フォーム画面表示処理 該当するレコードが見つかったら、「出力」（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704381188/213+FIX#4.3.-%E5%87%BA%E5%8A%9B ） に記載の通り、表示項目と入力可能項目に項目値を反映させて画面を出力し処理を終了する。 4.4.2. 編集処理 該当するレコードが見つかったら、「入力」（ https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/704381188/213+FIX#4.2.-%E5%85%A5%E5%8A%9B ） に記載の入力項目値の妥当性検査を行う。 入力項目値の妥当性に問題があった場合は、どの項目にどのような問題が発生したかわかるようにエラーメッセージを表示し、入力された値を入力フォーム内に表示・選択された状態で編集フォーム画面を出力して処理を終了する。 入力項目値の妥当性に問題がない場合は、入力された項目値と、更新日時を操作している現在時刻とし、操作を行なっている全体管理者のユーザー番号を更新者に設定した上でデータベースの該当レコードを更新する。 該当のレコードの保存した情報を閲覧できる https://giginc.atlassian.net/wiki/spaces/CLIENTTOMO/pages/713916417 へリダイレクトし処理を終了する。 4.5. エラー処理 上記以外で発生したエラー/例外に関してはフレームワークの例外処理に任せる。 4.6. ログ 編集画面に遷移した場合に下記フォーマットでログを出力する User {全体管理者のユーザー番号} started to update application. application_number={応募番号} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 編集処理を実行した場合に下記フォーマットでログを出力する 成功の場合 User {全体管理者のユーザー番号} updated application. application_number={応募番号} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 失敗の場合 User {全体管理者のユーザー番号} failed to update application. application_number={応募番号} {アクセスURI} {日時} {アクセス元IPアドレス} {ユーザーエージェント} 5. スコープ外・制限事項 同時編集に対する明示的な対策は施さない。 同時に編集が実行された際は後勝ちとし、後から保存ボタンを押して実行した時の編集値が適用される。 編集画面において他のユーザーまたは他のウィンドウ・タブが本機能にアクセスしたことをアプリケーションは検知しない。",
  "parentId": "704545010",
  "parentTitle": "210_■応募管理機能",
  "labels": [],
  "url": "/spaces/CLIENTTOMO/pages/704381188/213_+FIX",
  "spaceKey": "CLIENTTOMO",
  "lastModified": "2025-03-14T02:51:25.382Z",
  "author": "isamu saito",
  "excerpt": "1. 目次 2. 概要 本機能は 【FIX】応募情報 の登録済みのデータ1件およびそれに紐づく 【FIX】会員：アカウント情報 【FIX】会員：プロフィール情報 【FIX】会員：学歴情報 【FIX】会員：指導可能科目 【レビュー中】会員：設定情報（希望条件） の登録済みのデータを閲覧・編集するための機能です。 3. 要求事項 管理画面にログインすることができるシステム管理者、塾講師ステーション管理..."
}